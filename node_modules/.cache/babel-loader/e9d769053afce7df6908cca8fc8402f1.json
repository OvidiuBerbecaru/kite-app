{"ast":null,"code":"var _jsxFileName = \"/Users/OviB/Desktop/kite-app/src/components/Main/Main.js\";\nimport React, { useEffect, useState } from 'react';\nimport { useCookies } from 'react-cookie';\nimport axios from 'axios';\nimport { environment } from '../../environments/environment';\nimport NavBar from '../NavBar/NavBar';\nimport GoogleMap from '../GoogleMap/GoogleMap';\n\nconst Main = () => {\n  const [cookies] = useCookies(['tokenCookie']);\n  const [userData, setUserData] = useState({});\n  const [spots, setSpots] = useState([]);\n  const [favouriteSpots, setFavouriteSpots] = useState([]);\n  useEffect(() => {\n    axios.get(`${environment.apiPath}/user/${cookies.tokenCookie}`).then(response => {\n      console.log(response);\n      setUserData(response);\n    }).catch(error => {\n      if (error.response) {// toast(\"Oups ! Something went wrong\");\n      }\n    });\n    axios.get(`${environment.apiPath}/favourites`).then(response => {\n      // const favSpotsIds = response.data.map(data => );\n      setFavouriteSpots(response.data.map(sport => sport.id));\n    }).catch(error => {\n      if (error.response) {// toast(\"Oups ! Something went wrong\");\n      }\n    });\n  }, [cookies]);\n  useEffect(() => {}, [spots]);\n  axios.get(`${environment.apiPath}/spot`).then(response => {\n    setSpots(response.data);\n  }).catch(error => {\n    if (error.response) {// toast(\"Oups ! Something went wrong\");\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"main d-flex flex-wrap justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(NavBar, {\n    userInfo: userData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(GoogleMap, {\n    className: \"mt-5\",\n    spots: spots,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default Main;","map":{"version":3,"sources":["/Users/OviB/Desktop/kite-app/src/components/Main/Main.js"],"names":["React","useEffect","useState","useCookies","axios","environment","NavBar","GoogleMap","Main","cookies","userData","setUserData","spots","setSpots","favouriteSpots","setFavouriteSpots","get","apiPath","tokenCookie","then","response","console","log","catch","error","data","map","sport","id"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,gCAA5B;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,OAAOC,SAAP,MAAsB,wBAAtB;;AAEA,MAAMC,IAAI,GAAG,MAAM;AACjB,QAAM,CAACC,OAAD,IAAYN,UAAU,CAAC,CAAC,aAAD,CAAD,CAA5B;AACA,QAAM,CAACO,QAAD,EAAWC,WAAX,IAA0BT,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACU,KAAD,EAAQC,QAAR,IAAoBX,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACY,cAAD,EAAiBC,iBAAjB,IAAsCb,QAAQ,CAAC,EAAD,CAApD;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACdG,IAAAA,KAAK,CACFY,GADH,CACQ,GAAEX,WAAW,CAACY,OAAQ,SAAQR,OAAO,CAACS,WAAY,EAD1D,EAEGC,IAFH,CAESC,QAAD,IAAc;AAClBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACAT,MAAAA,WAAW,CAACS,QAAD,CAAX;AACD,KALH,EAMGG,KANH,CAMUC,KAAD,IAAW;AAChB,UAAIA,KAAK,CAACJ,QAAV,EAAoB,CAClB;AACD;AACF,KAVH;AAYAhB,IAAAA,KAAK,CACFY,GADH,CACQ,GAAEX,WAAW,CAACY,OAAQ,aAD9B,EAEGE,IAFH,CAESC,QAAD,IAAc;AAClB;AACAL,MAAAA,iBAAiB,CAACK,QAAQ,CAACK,IAAT,CAAcC,GAAd,CAAkBC,KAAK,IAAIA,KAAK,CAACC,EAAjC,CAAD,CAAjB;AACD,KALH,EAMGL,KANH,CAMUC,KAAD,IAAW;AAChB,UAAIA,KAAK,CAACJ,QAAV,EAAoB,CAClB;AACD;AACJ,KAVD;AAYD,GAzBQ,EAyBN,CAACX,OAAD,CAzBM,CAAT;AA2BAR,EAAAA,SAAS,CAAC,MAAM,CAEf,CAFQ,EAEN,CAACW,KAAD,CAFM,CAAT;AAIAR,EAAAA,KAAK,CACJY,GADD,CACM,GAAEX,WAAW,CAACY,OAAQ,OAD5B,EAECE,IAFD,CAEOC,QAAD,IAAc;AAClBP,IAAAA,QAAQ,CAACO,QAAQ,CAACK,IAAV,CAAR;AACD,GAJD,EAKCF,KALD,CAKQC,KAAD,IAAW;AAChB,QAAIA,KAAK,CAACJ,QAAV,EAAoB,CAClB;AACD;AACF,GATD;AAWA,sBACE;AAAK,IAAA,SAAS,EAAC,8CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,QAAQ,EAAEV,QAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAGE,oBAAC,SAAD;AAAW,IAAA,SAAS,EAAC,MAArB;AAA4B,IAAA,KAAK,EAAEE,KAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,CADF;AAOD,CAvDD;;AAyDA,eAAeJ,IAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useCookies } from 'react-cookie';\nimport axios from 'axios';\nimport { environment } from '../../environments/environment';\nimport NavBar from '../NavBar/NavBar';\nimport GoogleMap from '../GoogleMap/GoogleMap';\n\nconst Main = () => {\n  const [cookies] = useCookies(['tokenCookie']);\n  const [userData, setUserData] = useState({});\n  const [spots, setSpots] = useState([]);\n  const [favouriteSpots, setFavouriteSpots] = useState([]);\n\n  useEffect(() => {\n    axios\n      .get(`${environment.apiPath}/user/${cookies.tokenCookie}`)\n      .then((response) => {\n        console.log(response)\n        setUserData(response);\n      })\n      .catch((error) => {\n        if (error.response) {\n          // toast(\"Oups ! Something went wrong\");\n        }\n      });\n\n    axios\n      .get(`${environment.apiPath}/favourites`)\n      .then((response) => {\n        // const favSpotsIds = response.data.map(data => );\n        setFavouriteSpots(response.data.map(sport => sport.id))\n      })\n      .catch((error) => {\n        if (error.response) {\n          // toast(\"Oups ! Something went wrong\");\n        }\n    });\n\n  }, [cookies])\n\n  useEffect(() => {\n\n  }, [spots])\n\n  axios\n  .get(`${environment.apiPath}/spot`)\n  .then((response) => {\n    setSpots(response.data);\n  })\n  .catch((error) => {\n    if (error.response) {\n      // toast(\"Oups ! Something went wrong\");\n    }\n  });\n\n  return (\n    <div className=\"main d-flex flex-wrap justify-content-center\">\n      <NavBar userInfo={userData} />\n      {/* <GoogleMap className=\"mt-5\" spots={spots} favouriteSpots={favouriteSpots}/> */}\n      <GoogleMap className=\"mt-5\" spots={spots} />\n    </div>\n  );\n};\n\nexport default Main;"]},"metadata":{},"sourceType":"module"}