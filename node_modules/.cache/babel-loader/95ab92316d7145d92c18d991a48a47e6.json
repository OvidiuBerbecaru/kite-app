{"ast":null,"code":"var _jsxFileName = \"/Users/OviB/Desktop/kite-app/src/components/GoogleMap/GoogleMap.js\";\nimport React, { useState } from 'react';\nimport GoogleMapReact from 'google-map-react';\nimport '../../styles/utils.scss';\nimport LocationPin from './LocationPin';\nimport SpotInfoCard from './SpotInfoCard';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport * as R from 'ramda';\n\nconst GoogleMap = ({\n  location,\n  zoomLevel,\n  className,\n  spots,\n  isLoading\n}) => {\n  const [openedSpot, setOpenedSpot] = useState({});\n\n  const onSpotClick = id => {\n    const spot = spots.filter(spot => spot.id === id)[0];\n    const {\n      name,\n      country,\n      month,\n      probability,\n      isFavouriteSpot,\n      favSpotId\n    } = spot;\n    setOpenedSpot({\n      lat: Number(spot.lat) + 5,\n      lng: Number(spot.long) - 10,\n      name,\n      country,\n      month,\n      probability,\n      isFavouriteSpot,\n      favSpotId,\n      id\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `google-map position-relative ${className}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 5\n    }\n  }, isLoading && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"spinner position-absolute\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CircularProgress, {\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(GoogleMapReact, {\n    style: {\n      opacity: isLoading ? '50%' : null\n    },\n    bootstrapURLKeys: {\n      key: 'AIzaSyCDQY2Gatxh38awcCqZzSBF-BgwZzV2HVk'\n    },\n    defaultCenter: {\n      lat: 59.95,\n      lng: 30.33\n    },\n    center: !R.isEmpty(openedSpot) ? {\n      lat: Number(openedSpot.lat),\n      lng: Number(openedSpot.lng)\n    } : null,\n    defaultZoom: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, spots && !isLoading && spots.map(spot => /*#__PURE__*/React.createElement(LocationPin, {\n    lat: spot.lat,\n    lng: spot.long,\n    isFavouriteSpot: spot.isFavouriteSpot,\n    onClick: onSpotClick,\n    id: spot.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  })), !R.isEmpty(openedSpot) && /*#__PURE__*/React.createElement(SpotInfoCard, Object.assign({}, openedSpot, {\n    onClose: () => setOpenedSpot({}),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }))));\n};\n\nexport default GoogleMap;","map":{"version":3,"sources":["/Users/OviB/Desktop/kite-app/src/components/GoogleMap/GoogleMap.js"],"names":["React","useState","GoogleMapReact","LocationPin","SpotInfoCard","CircularProgress","R","GoogleMap","location","zoomLevel","className","spots","isLoading","openedSpot","setOpenedSpot","onSpotClick","id","spot","filter","name","country","month","probability","isFavouriteSpot","favSpotId","lat","Number","lng","long","opacity","key","isEmpty","map"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport GoogleMapReact from 'google-map-react'\nimport '../../styles/utils.scss';\nimport LocationPin from './LocationPin';\nimport SpotInfoCard from './SpotInfoCard';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport * as R from 'ramda';\n\nconst GoogleMap = ({ location, zoomLevel, className, spots, isLoading }) => {\n  const [ openedSpot, setOpenedSpot ] = useState({});\n\n  const onSpotClick = (id) => {\n    const spot = spots.filter(spot => spot.id === id)[0]\n    const { name, country, month, probability, isFavouriteSpot, favSpotId } = spot\n    setOpenedSpot({\n      lat: Number(spot.lat) + 5,\n      lng: Number(spot.long) - 10,\n      name,\n      country,\n      month,\n      probability,\n      isFavouriteSpot,\n      favSpotId,\n      id\n    })\n  }\n\n  return (\n    <div className={`google-map position-relative ${className}`}>\n      { isLoading && \n          <div className=\"spinner position-absolute\">\n            <CircularProgress \n              color=\"primary\"\n            /> \n          </div>\n      }\n      <GoogleMapReact\n        style= {{opacity: isLoading ? '50%' : null}}\n        bootstrapURLKeys={{ key: 'AIzaSyCDQY2Gatxh38awcCqZzSBF-BgwZzV2HVk' }}\n        defaultCenter={{\n          lat: 59.95,\n          lng: 30.33\n        }}\n        center = {\n          !R.isEmpty(openedSpot)\n            ? { lat: Number(openedSpot.lat), lng: Number(openedSpot.lng)}\n            : null\n        }\n        defaultZoom={1}\n      >\n        { spots && !isLoading &&\n          spots.map(spot => \n            <LocationPin\n              lat={spot.lat}\n              lng={spot.long}\n              isFavouriteSpot={spot.isFavouriteSpot}\n              onClick={onSpotClick}\n              id={spot.id}\n            />  \n          )\n        }\n        { !R.isEmpty(openedSpot) &&\n          <SpotInfoCard {...openedSpot} onClose={() => setOpenedSpot({})} />\n        }\n      </GoogleMapReact>\n    </div>\n  )\n}\n\nexport default GoogleMap;"]},"metadata":{},"sourceType":"module"}